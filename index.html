<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine?</title>

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top, #ffe6f0, #ffffff);
      padding: 24px;
    }

    .card {
      width: min(520px, 94vw);
      background: white;
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      text-align: center;
    }

    .otter {
      width: 100%;
      border-radius: 14px;
      margin-bottom: 14px;
    }

    h1 {
      font-size: 26px;
      margin: 6px 0;
    }

    .subtitle {
      font-size: 18px;
      color: #ff3b8d;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .buttons {
      display: flex;
      justify-content: center;
      gap: 12px;
    }

    button {
      border: none;
      cursor: pointer;
      padding: 12px 20px;
      border-radius: 999px;
      font-size: 18px;
      font-weight: 800;
    }

    .yes {
      background: #ff3b8d;
      color: white;
    }

    .no {
      background: #e9e9ef;
      color: #222;
      transform-origin: center;
    }

    canvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
    }

    .yay h2 {
      font-size: 30px;
      margin: 12px 0 6px;
    }
  </style>
</head>

<body>
  <canvas id="fireworks"></canvas>

  <div class="card">
    <!-- YOUR IMAGE -->
    <img
      class="otter"
      src="./1dd052bc-3734-409c-a48d-55ed38f673f6.png"
      alt="Otter Valentine"
    />

    <div id="root"></div>
  </div>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <script>
    const { useState, useMemo, useEffect } = React;

    function App() {
      const noCount = useMemo(() => {
        const params = new URLSearchParams(window.location.search);
        return Number(params.get("no") || 0);
      }, []);

      const [celebrate, setCelebrate] = useState(false);

      const scale = Math.max(0, 1 - noCount * 0.12);
      const hideNo = scale <= 0.08;

      function handleNo() {
        const params = new URLSearchParams(window.location.search);
        params.set("no", noCount + 1);
        window.location.search = params.toString();
      }

      function handleYes() {
        setCelebrate(true);
      }

      useEffect(() => {
        if (celebrate) startFireworks();
      }, [celebrate]);

      return React.createElement(
        "div",
        null,
        React.createElement("h1", null, "Will you be my Valentine? ðŸ’˜"),
        React.createElement("div", { className: "subtitle" }, "I love you like no otter ðŸ¦¦"),
        !celebrate
          ? React.createElement(
              "div",
              { className: "buttons" },
              React.createElement("button", { className: "yes", onClick: handleYes }, "Yes"),
              !hideNo &&
                React.createElement(
                  "button",
                  {
                    className: "no",
                    onClick: handleNo,
                    style: { transform: `scale(${scale})` }
                  },
                  "No"
                )
            )
          : React.createElement(
              "div",
              { className: "yay" },
              React.createElement("h2", null, "YAYYYYY!!! ðŸŽ†ðŸ’–"),
              React.createElement("p", null, "Best answer ever ðŸ˜„")
            )
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(
      React.createElement(App)
    );

    /* FIREWORKS */
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resize();
    window.addEventListener("resize", resize);

    let particles = [];

    function firework() {
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height * 0.4;
      for (let i = 0; i < 80; i++) {
        particles.push({
          x,
          y,
          vx: Math.cos(i) * Math.random() * 4,
          vy: Math.sin(i) * Math.random() * 4,
          life: 60
        });
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles = particles.filter(p => p.life-- > 0);
      particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, Math.PI * 2);
        ctx.fill();
      });
      requestAnimationFrame(animate);
    }

    function startFireworks() {
      animate();
      const interval = setInterval(firework, 250);
      setTimeout(() => clearInterval(interval), 2500);
    }
  </script>
</body>
</html>
